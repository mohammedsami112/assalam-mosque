import{e as m,Z as U,bk as y,y as B,ba as _,a as x,w as t,_ as C,o as h,b as r,A as b,b$ as R,k as e,c1 as M}from"./index-RVtWa1VN.js";import{U as P}from"./users-WmyHSQHD.js";import{G as k}from"./global-4TNOaeW-.js";import{u as A,V as N,c as d,r as p,s as T}from"./VForm-RgXt9suB.js";import{a as L,c as F,b as G,d as w,V as S}from"./VTextField-lve7Grfh.js";import{V as E,a as i}from"./VRow-qR79mlcM.js";import{a as Z}from"./VSelect-LQkA6m-M.js";import"./Api-hy5XHh9_.js";import"./forwardRefs-MOg0LXIC.js";/* empty css              */import"./VList-TDw60N8X.js";const se={__name:"create",setup(j){const f=m(!1),c=m(!1),n=m(!1),g=U(),v=C(),$=m([]),l=y({name:null,username:null,password:null,password_confirmation:null,role:null}),V=m({}),I=B(()=>({name:{required:d.withMessage("Name Is Required",p)},username:{required:d.withMessage("Username Is Required",p)},password:{required:d.withMessage("Password Is Required",p)},password_confirmation:{required:d.withMessage("Password Confirmation Is Required",p),sameAs:d.withMessage("Password Isn't Match",T(l.password))},role:{required:d.withMessage("Role Is Required",p)}})),a=A(I,l,{$externalResults:V}),q=()=>{a.value.$clearExternalResults(),a.value.$touch(),a.value.$error||(V.value={},n.value=!0,P.manageUsers(l).then(u=>{console.log(u),g.success(u.message),v.push({name:"view-users"})}).catch(u=>{V.value=u.response.data.data,g.error(u.response.data.message)}).finally(()=>{n.value=!1}))};return _(()=>{k.getPermissionsList().then(u=>{$.value=u.data})}),(u,o)=>(h(),x(L,null,{default:t(()=>[r(G,null,{default:t(()=>[r(F,null,{default:t(()=>[b(" Add New User ")]),_:1})]),_:1}),r(S,null,{default:t(()=>[r(N,{onSubmit:o[7]||(o[7]=R(s=>q(),["prevent"]))},{default:t(()=>[r(E,null,{default:t(()=>[r(i,{cols:"12",lg:"6"},{default:t(()=>[r(w,{disabled:e(n),"error-messages":e(a).name.$errors.map(s=>s.$message),onInput:e(a).name.$touch,onBlur:e(a).name.$touch,modelValue:e(l).name,"onUpdate:modelValue":o[0]||(o[0]=s=>e(l).name=s),label:"Name",type:"text",required:""},null,8,["disabled","error-messages","onInput","onBlur","modelValue"])]),_:1}),r(i,{cols:"12",lg:"6"},{default:t(()=>[r(w,{disabled:e(n),"error-messages":e(a).username.$errors.map(s=>s.$message),onInput:e(a).username.$touch,onBlur:e(a).username.$touch,modelValue:e(l).username,"onUpdate:modelValue":o[1]||(o[1]=s=>e(l).username=s),label:"Username",type:"text",required:""},null,8,["disabled","error-messages","onInput","onBlur","modelValue"])]),_:1}),r(i,{cols:"12"},{default:t(()=>[r(w,{disabled:e(n),"error-messages":e(a).password.$errors.map(s=>s.$message),onInput:e(a).password.$touch,onBlur:e(a).password.$touch,required:"",modelValue:e(l).password,"onUpdate:modelValue":o[2]||(o[2]=s=>e(l).password=s),label:"Password",placeholder:"············",type:e(f)?"text":"password","append-inner-icon":e(f)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":o[3]||(o[3]=s=>f.value=!e(f))},null,8,["disabled","error-messages","onInput","onBlur","modelValue","type","append-inner-icon"])]),_:1}),r(i,{cols:"12"},{default:t(()=>[r(w,{disabled:e(n),"error-messages":e(a).password_confirmation.$errors.map(s=>s.$message),onInput:e(a).password_confirmation.$touch,onBlur:e(a).password_confirmation.$touch,required:"",modelValue:e(l).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=s=>e(l).password_confirmation=s),label:"Password Confirmation",placeholder:"············",type:e(c)?"text":"password","append-inner-icon":e(c)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":o[5]||(o[5]=s=>c.value=!e(c))},null,8,["disabled","error-messages","onInput","onBlur","modelValue","type","append-inner-icon"])]),_:1}),r(i,{cols:"12"},{default:t(()=>[r(Z,{clearable:"",disabled:e(n),"error-messages":e(a).role.$errors.map(s=>s.$message),onInput:e(a).role.$touch,onBlur:e(a).role.$touch,required:"",modelValue:e(l).role,"onUpdate:modelValue":o[6]||(o[6]=s=>e(l).role=s),label:"User Role",items:e($),"item-title":"title","item-value":"id",variant:"outlined"},null,8,["disabled","error-messages","onInput","onBlur","modelValue","items"])]),_:1}),r(i,{cols:"12"},{default:t(()=>[r(M,{loading:e(n),block:"",type:"submit",class:"mt-4"},{default:t(()=>[b(" Create User ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{se as default};
